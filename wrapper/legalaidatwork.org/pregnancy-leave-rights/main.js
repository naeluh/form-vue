//Need to add charts

arrB = [{
    "msg": "Does your employer have at least 50 employees within 75 miles?",
    "yes": [11, 1],
    "no": [12, 23, 24, 14, 2]
  },
  {
    "msg": "Have you worked for your employer for at least 1 year?",
    "yes": [3],
    "no": [14, 2]
  },
  {
    "msg": "Have you worked at least 1250 hours in the year before your leave will start?",
    "yes": [15, 25, -1],
    "no": [16, 20, -1]
  },
  {
    "msg": "Do you pay into State Disability Insurance (SDI)?",
    "yes": [7],
    "no": [14, 5]
  },
  {
    "msg": "Do you pay into State Disability Insurance (SDI)?",
    "yes": [15, 6],
    "no": [14, 5]
  },
  {
    "msg": "Do you pay into State Disability Insurance (SDI)?",
    "yes": [15, 19, 7],
    "no": [16, 20, 7]
  },
  {
    "msg": "Do you currently work in San Francisco?",
    "yes": [15, 17, 7],
    "no": [16, 21, 7]
  },
  {
    "msg": "Have you worked in San Francisco for the past six months?",
    "yes": [8],
    "no": [23, 24, -1]
  },
  {
    "msg": "Does your employer have at least 20 employees?",
    "yes": [9],
    "no": [23, 24, -1]
  },
  {
    "msg": "",
    "yes": [],
    "no": []
  },
  {
    "msg": "",
    "yes": [],
    "no": []
  },
  {
    "msg": "You can receive up to 4 months of job-protected, unpaid leave with <strong>Pregnancy Disability Leave (PDL)</strong>. This leave applies when you are disabled by pregnancy, childbirth, or a related condition.  It can be taken intermittently or in short increments.  Generally, you will be considered disabled starting 4 weeks before your due date, through 6 weeks following vaginal delivery, and 8 weeks following caesarian section.  To access PDL, request it from your employer.  You may need a note from a doctor <br/> <br/> .If you are disabled for more than 4 months, you may be eligible for extended leave as a reasonable accommodation for your disability, under the <strong>Fair Employment and Housing Act (FEHA) or Americans with Disabilities Act (ADA)</strong>.",
    "yes": [],
    "no": []
  },
  {
    "msg": "<strong>Pregnancy Disability Leave (PDL)</strong>, which provides up to 4 months of job-protected leave while you are disabled by pregnancy, applies to those working for an employer with at least 5 employees.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are eligible for job-protected leave under the California Family Rights Act (CFRA).  CFRA provides you with up to 12 weeks of job-protected leave to bond with your new baby, after your disability has ended.  This leave must be used within 1 year of your child’s birth.  If you adopt of foster a child, you can take this bonding leave within a year of the child’s adoption or placement.  It is available to those who have worked for their employer for at least 1 year, have worked 1,250 hours for that employer in the last  year, and who have an employer with at least 50 employees working within a 75 mile radius.  It applies to both birth mothers and non-birth parents.<br/><br/>You are also eligible for leave under the Family Medical Leave Act (FMLA), but in California, FMLA runs at the same time as PDL, so if you took PDL, FMLA will not provide you with any additional leave apart from CFRA bonding leave.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are not entitled to job-protected time off to bond with your new baby, newly adopted child, or newly fostered child.  Leave under the Family Medical Leave Act (FMLA) and the California Family Rights Act (CFRA) is only available to those who have worked for their employer for at least 1 year, have worked 1,250 hours for that employer in the last  year, and whose employer has at least 50 employees working within a 75 mile radius. <br/><br/> Even when job-protected leave is not available to you, you can still request leave from your employer.  Your employer or union may have policies that give you time off.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You may be eligible for State Disability Insurance (SDI).  If you are unable to work or are working work less because of your pregnancy, childbirth, or related conditions, SDI can provide you with up to 55% of your weekly wages for up to 52 weeks.  There will be a 1-week waiting period during which you will not receive wage replacement.  Apply for State Disability Insurance at www.EDD.ca.gov.<br/><br/>While SDI will provide you with partial wage replacement during time off of work, this leave is not job-protected, unless you are also eligible for PDL, FMLA, or other leave.  Remember to request leave from your employer.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you did not pay into the State Disability Insurance (SDI) fund, you are not eligible for SDI (partial wage replacement) during the time you take off work to have a baby or recover from childbirth.<br/><br/>Check with your employer to see if you have a private disability insurance plan.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while you are bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.<br/><br/>There is a 1-week waiting period in which you will not receive wage replacement.  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period. Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>If you are not eligible for job-protected bonding leave under CFRA, your PFL alone is not protected. If you qualify for PFL, but not job- protected leave, you can still request leave from your employer.  Your employer or union ",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while you are bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.<br/><br/>There is a 1-week waiting period in which you will not receive benefits.  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period.  Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>This will provide you with wage replacement for six weeks while you take job-protected bonding leave under CFRA.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.There is a 1-week waiting period in which you will not receive wages.<br/><br/>  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period.  Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>However, you are not eligible for job-protected bonding leave under CFRA.  Receiving PFL alone does not guarantee your job. Because you qualify for PFL, but not job-protected bonding leave, you may request leave from your employer.  Your employer or union may have policies that will give you time off.  If you do receive time off from your employer to bond, you can receive PFL.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you did not pay into the State Disability Insurance (SDI) fund, you are not eligible for Paid Family Leave (PFL) (partial wage replacement) during the time you take off work to bond with your new baby, or newly adopted or fostered child.<br/><br/>Check with your employer or union to see if they have a policy regarding paid leave.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you did not pay into the State Disability Insurance (SDI) fund, you are not eligible for Paid Family Leave (PFL) (partial wage replacement) during the time you take off work to bond with your new baby, or newly adopted or fostered child.<br/><br/>Check with your employer or union to see if they have a policy regarding paid leave.<br/><br/>Although you are not eligible for wage replacement, this does not affect your eligibility to take unpaid job-protected time off to bond with your child under FMLA/CFRA.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are covered by the SF Family Friendly Workplace Ordinance (FFWO).  The SF Family Friendly Workplace Ordinance provides those who have worked in San Francisco for at least six months and whose employer has at least 20 employees with the right to request flexible or predictable work arrangements to help with family caregiving.  Your employer must grant your request unless they have a bona fide business reason explained in writing.  Also, your employer is prohibited from harassing, retaliating against, or discriminating against you for being a caregiver or requesting these work schedule accommodations.<br/><br/>To access these accommodations, request them from your employer.  You may use this form as a sample.  "
  },
  {
    "msg": "You are not covered by the SF Family Friendly Workplace Ordinance (FFWO).  The SF Family Friendly Workplace Ordinance is only available to those who work for an employer with 20 employees, and who have worked in San Francisco for the past six months.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are covered by the Lactation Accommodations Laws.  These laws provide that you must be given break time and private space (not a bathroom) for pumping breastmilk.  They also protect you from discrimination, harassment, or retaliation based on your need to pump breastmilk.<br/><br/>To access these accommodations, request them from your employer.  ",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while you are bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.<br/><br/>There is a 1-week waiting period in which you will not receive wage replacement.  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period. Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>If you are not eligible for job-protected bonding leave under CFRA, your PFL alone is not protected. If you qualify for PFL, but not job- protected leave, you can still request leave from your employer.  Your employer or union may have policies that will give you time off.",
    "yes": [],
    "no": []
  }
]

//Need to add charts

arrA = [{
    "msg": "Do you work in California for an employer with at least 5 employees?",
    "yes": [11, 1],
    "no": [12, 23, 24, 14, 2]
  },
  {
    "msg": "Does your employer have at least 50 employees within 75 miles?",
    "yes": [3],
    "no": [14, 2]
  },
  {
    "msg": "Do you pay into State Disability Insurance (SDI)?",
    "yes": [15, 25, -1],
    "no": [16, 20, -1]
  },
  {
    "msg": "Have you worked for your employer for at least 1 year?",
    "yes": [7],
    "no": [14, 5]
  },
  {
    "msg": "Have you worked at least 1250 hours in the year before your leave will start?",
    "yes": [15, 6],
    "no": [14, 5]
  },
  {
    "msg": "Do you pay into State Disability Insurance (SDI)?",
    "yes": [15, 19, 7],
    "no": [16, 20, 7]
  },
  {
    "msg": "Do you pay into State Disability Insurance (SDI)?",
    "yes": [15, 17, 7],
    "no": [16, 21, 7]
  },
  {
    "msg": "Do you currently work in San Francisco?",
    "yes": [8],
    "no": [23, 24, -1]
  },
  {
    "msg": "Have you worked in San Francisco for the past six months?",
    "yes": [9],
    "no": [23, 24, -1]
  },
  {
    "msg": "Does your employer have at least 20 employees?",
    "yes": [22, 24, -1],
    "no": [23, 24, -1]
  },
  {
    "msg": "",
    "yes": [],
    "no": []
  },
  {
    "msg": "You can receive up to 4 months of job-protected, unpaid leave with <strong>Pregnancy Disability Leave (PDL)</strong>. This leave applies when you are disabled by pregnancy, childbirth, or a related condition.  It can be taken intermittently or in short increments.  Generally, you will be considered disabled starting 4 weeks before your due date, through 6 weeks following vaginal delivery, and 8 weeks following caesarian section.  To access PDL, request it from your employer.  You may need a note from a doctor <br/> <br/> .If you are disabled for more than 4 months, you may be eligible for extended leave as a reasonable accommodation for your disability, under the <strong>Fair Employment and Housing Act (FEHA) or Americans with Disabilities Act (ADA)</strong>.",
    "yes": [],
    "no": []
  },
  {
    "msg": "<strong>Pregnancy Disability Leave (PDL)</strong>, which provides up to 4 months of job-protected leave while you are disabled by pregnancy, applies to those working for an employer with at least 5 employees.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are eligible for job-protected leave under the California Family Rights Act (CFRA).  CFRA provides you with up to 12 weeks of job-protected leave to bond with your new baby, after your disability has ended.  This leave must be used within 1 year of your child’s birth.  If you adopt of foster a child, you can take this bonding leave within a year of the child’s adoption or placement.  It is available to those who have worked for their employer for at least 1 year, have worked 1,250 hours for that employer in the last  year, and who have an employer with at least 50 employees working within a 75 mile radius.  It applies to both birth mothers and non-birth parents.<br/><br/>You are also eligible for leave under the Family Medical Leave Act (FMLA), but in California, FMLA runs at the same time as PDL, so if you took PDL, FMLA will not provide you with any additional leave apart from CFRA bonding leave.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are not entitled to job-protected time off to bond with your new baby, newly adopted child, or newly fostered child.  Leave under the Family Medical Leave Act (FMLA) and the California Family Rights Act (CFRA) is only available to those who have worked for their employer for at least 1 year, have worked 1,250 hours for that employer in the last  year, and whose employer has at least 50 employees working within a 75 mile radius. <br/><br/> Even when job-protected leave is not available to you, you can still request leave from your employer.  Your employer or union may have policies that give you time off.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You may be eligible for State Disability Insurance (SDI).  If you are unable to work or are working work less because of your pregnancy, childbirth, or related conditions, SDI can provide you with up to 55% of your weekly wages for up to 52 weeks.  There will be a 1-week waiting period during which you will not receive wage replacement.  Apply for State Disability Insurance at www.EDD.ca.gov.<br/><br/>While SDI will provide you with partial wage replacement during time off of work, this leave is not job-protected, unless you are also eligible for PDL, FMLA, or other leave.  Remember to request leave from your employer.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you did not pay into the State Disability Insurance (SDI) fund, you are not eligible for SDI (partial wage replacement) during the time you take off work to have a baby or recover from childbirth.<br/><br/>Check with your employer to see if you have a private disability insurance plan.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while you are bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.<br/><br/>There is a 1-week waiting period in which you will not receive wage replacement.  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period. Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>If you are not eligible for job-protected bonding leave under CFRA, your PFL alone is not protected. If you qualify for PFL, but not job- protected leave, you can still request leave from your employer.  Your employer or union ",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while you are bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.<br/><br/>There is a 1-week waiting period in which you will not receive benefits.  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period.  Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>This will provide you with wage replacement for six weeks while you take job-protected bonding leave under CFRA.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.There is a 1-week waiting period in which you will not receive wages.<br/><br/>  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period.  Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>However, you are not eligible for job-protected bonding leave under CFRA.  Receiving PFL alone does not guarantee your job. Because you qualify for PFL, but not job-protected bonding leave, you may request leave from your employer.  Your employer or union may have policies that will give you time off.  If you do receive time off from your employer to bond, you can receive PFL.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you did not pay into the State Disability Insurance (SDI) fund, you are not eligible for Paid Family Leave (PFL) (partial wage replacement) during the time you take off work to bond with your new baby, or newly adopted or fostered child.<br/><br/>Check with your employer or union to see if they have a policy regarding paid leave.",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you did not pay into the State Disability Insurance (SDI) fund, you are not eligible for Paid Family Leave (PFL) (partial wage replacement) during the time you take off work to bond with your new baby, or newly adopted or fostered child.<br/><br/>Check with your employer or union to see if they have a policy regarding paid leave.<br/><br/>Although you are not eligible for wage replacement, this does not affect your eligibility to take unpaid job-protected time off to bond with your child under FMLA/CFRA.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are covered by the SF Family Friendly Workplace Ordinance (FFWO).  The SF Family Friendly Workplace Ordinance provides those who have worked in San Francisco for at least six months and whose employer has at least 20 employees with the right to request flexible or predictable work arrangements to help with family caregiving.  Your employer must grant your request unless they have a bona fide business reason explained in writing.  Also, your employer is prohibited from harassing, retaliating against, or discriminating against you for being a caregiver or requesting these work schedule accommodations.<br/><br/>To access these accommodations, request them from your employer.  You may use this form as a sample.  "
  },
  {
    "msg": "You are not covered by the SF Family Friendly Workplace Ordinance (FFWO).  The SF Family Friendly Workplace Ordinance is only available to those who work for an employer with 20 employees, and who have worked in San Francisco for the past six months.",
    "yes": [],
    "no": []
  },
  {
    "msg": "You are covered by the Lactation Accommodations Laws.  These laws provide that you must be given break time and private space (not a bathroom) for pumping breastmilk.  They also protect you from discrimination, harassment, or retaliation based on your need to pump breastmilk.<br/><br/>To access these accommodations, request them from your employer.  ",
    "yes": [],
    "no": []
  },
  {
    "msg": "Because you paid into State Disability Insurance (SDI) fund, you are likely eligible for Paid Family Leave (PFL).  Paid Family Leave allows you to receive up to 55% of your weekly wages for up to 6 weeks while you are bonding with a newborn child within the first year, a newly adopted or foster child within the first year in your home, or caring for a seriously ill family member.  Take our “I qualify for Paid Family Leave: how much will I receive while I am away from work to bond with my new child?” quiz to learn if you may be able to obtain a higher percentage of your weekly wages.<br/><br/>There is a 1-week waiting period in which you will not receive wage replacement.  If you received SDI for pregnancy and receive PFL after you recover, you will not have an additional waiting period. Apply for Paid Family Leave at www.EDD.ca.gov.<br/><br/>If you are not eligible for job-protected bonding leave under CFRA, your PFL alone is not protected. If you qualify for PFL, but not job- protected leave, you can still request leave from your employer.  Your employer or union may have policies that will give you time off.",
    "yes": [],
    "no": []
  }
]



new Vue({
  el: '#app',
  props: {
    a: {
      default: function() {
        if (window.location.pathname === '/pregnancy-leave-rights/') {
          return arrA
        } else {
          return arrB
        }
      },
      type: Array
    },
    initMsg: {
      default: function() {
        if (window.location.pathname === '/pregnancy-leave-rights/') {
          return 'I’m Pregnant:  What are my rights to time off from work?'
        } else {
          return ' '
        }
      },
      type: String
    }
  },
  data() {
    return {
      radio: null,
      msg: [this.a[0].msg],
      yes: this.a[0].yes,
      no: this.a[0].no,
      nxt: [this.a[0].yes[this.a[0].yes.length - 1], this.a[0].no[this.a[0].no.length - 1]],
      answers: [],
      isActive: true,
      start: false,
      isDone: false
    }
  },
  methods: {
    init(e) {
      this.start = true
      this.isActive = false
    },
    getQ(id, msgs, answer) {
      this.animate()
      this.msg = []
      if (id === -1) {
        this.isDone = true
        for (var i = 0; i < msgs.length; i++) {
          if (msgs[i] !== -1) {
            this.msg.push(this.a[msgs[i]].msg)
          }
        }
        return this.msg
      } else {
        for (var i = 0; i < msgs.length; i++) {
          this.msg.push(this.a[msgs[i]].msg)
        }
        this.yes = this.a[id].yes
        this.no = this.a[id].no
        this.nxt = [this.a[id].yes[this.a[id].yes.length - 1], this.a[id].no[this.a[id].no.length - 1]]
        this.radio = null
      }
      this.answers.push(answer)
    },
    animate() {
      let self = this
      self.animated = true
      setTimeout(function() {
        self.animated = false
      }, 500)
    }
  },
  watch: {
    'radio': function(val) {
      if (val === 'yes') {
        this.getQ(this.nxt[0], this.yes, 'yes')
      } else if (val === 'no') {
        this.getQ(this.nxt[1], this.no, 'no')
      }
    }
  },
  created() {
    //console.log(this.a)
  }
})
